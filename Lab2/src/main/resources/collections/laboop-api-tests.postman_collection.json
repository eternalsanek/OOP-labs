{
  "info": {
    "_postman_id": "laboop-api-collection-fixed",
    "name": "LabOOP API Tests with Basic Auth (FIXED)",
    "description": "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏ –∏ –ª–æ–≥–∏–∫–æ–π —Ç–µ—Å—Ç–æ–≤",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "üìä Environment Setup",
      "item": [
        {
          "name": "Check API Health",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö",
                  "pm.collectionVariables.set(\"testPassword\", \"test_password_123\");",
                  "const adminCredentials = btoa('admin:admin123');",
                  "pm.collectionVariables.set(\"adminAuth\", \"Basic \" + adminCredentials);",
                  "console.log(\"API test initialized\");",
                  "console.log(\"Admin auth header created\");"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/",
              "host": ["{{baseUrl}}"],
              "path": [""]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"API is running\", function () {",
                  "    pm.response.to.have.status(200);",
                  "    pm.response.to.have.body;",
                  "});",
                  "console.log(\"API health check passed\");"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üîê Authentication Tests",
      "item": [
        {
          "name": "Login with Pre-created User",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
                  "// –ò–∑ DataInitializer: user / user123",
                  "const username = \"user\";",
                  "const password = \"user123\";",
                  "pm.variables.set(\"testUsername\", username);",
                  "pm.collectionVariables.set(\"testPassword\", password);",
                  "console.log(\"Using pre-created user: \" + username + \" / \" + password);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"{{testUsername}}\",\n  \"password\": \"{{testPassword}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/login",
              "host": ["{{baseUrl}}"],
              "path": ["users", "login"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Login successful\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('username');",
                  "    pm.expect(jsonData.username).to.equal('user');",
                  "    pm.expect(jsonData).to.have.property('role');",
                  "    pm.expect(jsonData.role).to.equal('USER');",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "    pm.expect(jsonData.message).to.include('Login successful');",
                  "});",
                  "",
                  "// –°–æ—Ö—Ä–∞–Ω—è–µ–º credentials",
                  "const credentials = btoa('user:user123');",
                  "pm.collectionVariables.set(\"userAuth\", \"Basic \" + credentials);",
                  "console.log(\"User auth header created\");"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Current User Info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{userAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns correct user info\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.expect(jsonData.name).to.equal('user');",
                  "    pm.expect(jsonData).to.have.property('role');",
                  "    ",
                  "    // –°–æ—Ö—Ä–∞–Ω—è–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
                  "    pm.collectionVariables.set(\"userId\", jsonData.id);",
                  "    console.log(\"User ID stored: \" + jsonData.id);",
                  "});"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üë• Users API Tests",
      "item": [
        {
          "name": "Get All Users (Admin Only)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{adminAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response is array\", function () {",
                  "    pm.expect(pm.response.json()).to.be.an('array');",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"getAllUsersTime\", pm.response.responseTime);",
                  "console.log(\"Get All Users time: \" + pm.response.responseTime + \"ms\");"
                ]
              }
            }
          ]
        },
        {
          "name": "Get User by ID (Self Access)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{userAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response has correct user\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.id).to.equal(pm.collectionVariables.get(\"userId\"));",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"getUserByIdTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Update User (Self Update)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "{{userAuth}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"{{newUsername}}_Updated\",\n  \"passwordHash\": \"{{testPassword}}_updated\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"updateUserTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üìà Functions API Tests",
      "item": [
        {
          "name": "Create Function Owner",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π",
                  "const functionOwnerName = \"FunctionOwner_\" + Date.now();",
                  "pm.variables.set(\"functionOwnerName\", functionOwnerName);",
                  "console.log(\"Function owner name: \" + functionOwnerName);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"{{functionOwnerName}}\",\n  \"password\": \"{{testPassword}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/register",
              "host": ["{{baseUrl}}"],
              "path": ["users", "register"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"functionOwnerId\", jsonData.id);",
                  "pm.collectionVariables.set(\"functionOwnerName\", jsonData.username);",
                  "",
                  "// –°–æ–∑–¥–∞–µ–º auth header –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
                  "const credentials = btoa(jsonData.username + \":\" + pm.collectionVariables.get(\"testPassword\"));",
                  "pm.collectionVariables.set(\"functionOwnerAuth\", \"Basic \" + credentials);",
                  "console.log(\"Function owner created: \" + jsonData.username);",
                  "console.log(\"Function owner ID: \" + jsonData.id);"
                ]
              }
            }
          ]
        },
        {
          "name": "Create Function",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Function\",\n  \"type\": \"linear\",\n  \"expression\": \"x^2 + 2x + 1\",\n  \"ownerId\": \"{{functionOwnerId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/functions",
              "host": ["{{baseUrl}}"],
              "path": ["functions"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has function data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.expect(jsonData).to.have.property('type');",
                  "    pm.expect(jsonData).to.have.property('ownerId');",
                  "    ",
                  "    pm.collectionVariables.set(\"functionId\", jsonData.id);",
                  "    console.log(\"Created function ID: \" + jsonData.id);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"createFunctionTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Get All Functions (Authenticated)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/functions",
              "host": ["{{baseUrl}}"],
              "path": ["functions"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"getAllFunctionsTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Function by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/functions/{{functionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["functions", "{{functionId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"getFunctionByIdTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Function (Owner Only)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Test Function\",\n  \"type\": \"quadratic\",\n  \"expression\": \"sin(x)\",\n  \"ownerId\": \"{{functionOwnerId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/functions/{{functionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["functions", "{{functionId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"updateFunctionTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Delete Function",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/functions/{{functionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["functions", "{{functionId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"deleteFunctionTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üìç Points API Tests",
      "item": [
        {
          "name": "Create Point",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ç–æ—á–µ–∫ (—Å—Ç–∞—Ä–∞—è —É–¥–∞–ª–µ–Ω–∞)",
                  "const createFunctionRequest = {",
                  "    url: pm.collectionVariables.get(\"baseUrl\") + \"/functions\",",
                  "    method: 'POST',",
                  "    header: {",
                  "        'Content-Type': 'application/json',",
                  "        'Authorization': pm.collectionVariables.get(\"functionOwnerAuth\")",
                  "    },",
                  "    body: {",
                  "        mode: 'raw',",
                  "        raw: JSON.stringify({",
                  "            name: \"Test Function for Points\",",
                  "            type: \"linear\",",
                  "            expression: \"x + 1\",",
                  "            ownerId: pm.collectionVariables.get(\"functionOwnerId\")",
                  "        })",
                  "    }",
                  "};",
                  "",
                  "// –í—ã–ø–æ–ª–Ω—è–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å",
                  "pm.sendRequest(createFunctionRequest, function (err, response) {",
                  "    if (!err && response.code === 201) {",
                  "        const functionData = response.json();",
                  "        pm.collectionVariables.set(\"functionId\", functionData.id);",
                  "        console.log(\"New function created for points: \" + functionData.id);",
                  "    }",
                  "});",
                  "",
                  "// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è BigDecimal",
                  "const xVal = (Math.random() * 10).toFixed(4);",
                  "const yVal = (Math.random() * 10).toFixed(4);",
                  "pm.variables.set(\"xVal\", xVal.toString());",
                  "pm.variables.set(\"yVal\", yVal.toString());",
                  "console.log(`Generated xVal: ${xVal}, yVal: ${yVal}`);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"functionId\": \"{{functionId}}\",\n  \"xVal\": \"{{xVal}}\",\n  \"yVal\": \"{{yVal}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/points",
              "host": ["{{baseUrl}}"],
              "path": ["points"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 201\", function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test(\"Response has point data\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('functionId');",
                  "    pm.expect(jsonData).to.have.property('xVal');",
                  "    pm.expect(jsonData).to.have.property('yVal');",
                  "    ",
                  "    pm.collectionVariables.set(\"pointId\", jsonData.id);",
                  "    console.log(\"Created point ID: \" + jsonData.id);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"createPointTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Get All Points",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/points",
              "host": ["{{baseUrl}}"],
              "path": ["points"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Response contains BigDecimal fields\", function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    if (jsonData.length > 0) {",
                  "        pm.expect(jsonData[0]).to.have.property('xVal');",
                  "        pm.expect(jsonData[0]).to.have.property('yVal');",
                  "    }",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"getAllPointsTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Point by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/points/{{pointId}}",
              "host": ["{{baseUrl}}"],
              "path": ["points", "{{pointId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"getPointByIdTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Point",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ BigDecimal –∑–Ω–∞—á–µ–Ω–∏—è",
                  "const newXVal = (Math.random() * 20).toFixed(4);",
                  "const newYVal = (Math.random() * 20).toFixed(4);",
                  "pm.variables.set(\"newXVal\", newXVal.toString());",
                  "pm.variables.set(\"newYVal\", newYVal.toString());"
                ]
              }
            }
          ],
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"xVal\": \"{{newXVal}}\",\n  \"yVal\": \"{{newYVal}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/points/{{pointId}}",
              "host": ["{{baseUrl}}"],
              "path": ["points", "{{pointId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"updatePointTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Delete Point",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/points/{{pointId}}",
              "host": ["{{baseUrl}}"],
              "path": ["points", "{{pointId}}"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 204\", function () {",
                  "    pm.response.to.have.status(204);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"deletePointTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üîç Search API Tests",
      "item": [
        {
          "name": "Search Users (Admin Only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "{{adminAuth}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"criteria\": [\n    {\n      \"fieldName\": \"name\",\n      \"operation\": \"LIKE\",\n      \"value\": \"Test\"\n    }\n  ],\n  \"page\": 0,\n  \"size\": 10\n}"
            },
            "url": {
              "raw": "{{searchBaseUrl}}/users",
              "host": ["{{searchBaseUrl}}"],
              "path": ["users"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"searchUsersTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        },
        {
          "name": "Search Functions (Authenticated)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "{{functionOwnerAuth}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"criteria\": [\n    {\n      \"fieldName\": \"type\",\n      \"operation\": \"EQUALS\",\n      \"value\": \"linear\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{searchBaseUrl}}/functions",
              "host": ["{{searchBaseUrl}}"],
              "path": ["functions"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status code is 200\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "// Store execution time",
                  "pm.collectionVariables.set(\"searchFunctionsTime\", pm.response.responseTime);"
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üìä Performance Report",
      "item": [
        {
          "name": "Generate Performance Report",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "{{adminAuth}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Collect all timing data",
                  "const results = {",
                  "    users: {",
                  "        createUser: pm.collectionVariables.get(\"createUserTime\") || 0,",
                  "        getAllUsers: pm.collectionVariables.get(\"getAllUsersTime\") || 0,",
                  "        getUserById: pm.collectionVariables.get(\"getUserByIdTime\") || 0,",
                  "        updateUser: pm.collectionVariables.get(\"updateUserTime\") || 0",
                  "    },",
                  "    functions: {",
                  "        createFunction: pm.collectionVariables.get(\"createFunctionTime\") || 0,",
                  "        getAllFunctions: pm.collectionVariables.get(\"getAllFunctionsTime\") || 0,",
                  "        getFunctionById: pm.collectionVariables.get(\"getFunctionByIdTime\") || 0,",
                  "        updateFunction: pm.collectionVariables.get(\"updateFunctionTime\") || 0,",
                  "        deleteFunction: pm.collectionVariables.get(\"deleteFunctionTime\") || 0",
                  "    },",
                  "    points: {",
                  "        createPoint: pm.collectionVariables.get(\"createPointTime\") || 0,",
                  "        getAllPoints: pm.collectionVariables.get(\"getAllPointsTime\") || 0,",
                  "        getPointById: pm.collectionVariables.get(\"getPointByIdTime\") || 0,",
                  "        updatePoint: pm.collectionVariables.get(\"updatePointTime\") || 0,",
                  "        deletePoint: pm.collectionVariables.get(\"deletePointTime\") || 0",
                  "    },",
                  "    search: {",
                  "        searchUsers: pm.collectionVariables.get(\"searchUsersTime\") || 0,",
                  "        searchFunctions: pm.collectionVariables.get(\"searchFunctionsTime\") || 0",
                  "    }",
                  "};",
                  "",
                  "console.log(\"\\n\" + \"=\".repeat(80));",
                  "console.log(\"üìä API PERFORMANCE TEST RESULTS (WITH BASIC AUTH)\");",
                  "console.log(\"=\" + new Date().toLocaleString().padEnd(78) + \"=\");",
                  "console.log(\"=\" + \"Security: Basic Authentication Enabled\".padEnd(68) + \"=\");",
                  "console.log(\"=\".repeat(80));",
                  "",
                  "// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç—á–µ—Ç",
                  "let allTimes = [];",
                  "let csvData = \"Category,Operation,Time(ms),Status\\n\";",
                  "",
                  "Object.entries(results).forEach(([category, operations]) => {",
                  "    Object.entries(operations).forEach(([operation, time]) => {",
                  "        if (time > 0) {",
                  "            allTimes.push(time);",
                  "            csvData += `${category},${operation},${time.toFixed(2)},OK\\n`;",
                  "        }",
                  "    });",
                  "});",
                  "",
                  "// –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ",
                  "pm.collectionVariables.set(\"performanceCSV\", csvData);",
                  "pm.collectionVariables.set(\"performanceJSON\", JSON.stringify(results));",
                  "",
                  "console.log(\"‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!\");",
                  "console.log(\"üîê Basic Auth —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ\");",
                  "console.log(\"üëÆ –†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø –ø—Ä–æ–≤–µ—Ä–µ–Ω\");",
                  "console.log(\"üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∞\");"
                ]
              }
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "exec": [
          "// Initialize test variables with security",
          "pm.collectionVariables.set(\"testPassword\", \"test_password_123\");",
          "// Default admin credentials from docker-compose",
          "const adminCredentials = btoa('admin:admin123');",
          "pm.collectionVariables.set(\"adminAuth\", \"Basic \" + adminCredentials);",
          "console.log(\"Security test started at: \" + new Date().toISOString());",
          "console.log(\"Admin auth header created\");"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "exec": [
          "// Track test execution with security info",
          "const testName = pm.info.requestName;",
          "const authHeader = pm.request.headers.get(\"Authorization\");",
          "const hasAuth = authHeader && authHeader.startsWith(\"Basic \");",
          "console.log(`Test: ${testName} | Auth: ${hasAuth ? 'YES' : 'NO'} | Time: ${pm.response.responseTime}ms`);",
          "console.log(`Response code: ${pm.response.code}`);"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080/api/v1",
      "type": "string"
    },
    {
      "key": "searchBaseUrl",
      "value": "http://localhost:8080/api/search",
      "type": "string"
    },
    {
      "key": "adminAuth",
      "value": "Basic YWRtaW46YWRtaW4xMjM=",
      "type": "string"
    }
  ]
}